<?php

// if(is_dir("E:\calls")){
	// echo "is a directory";
// } else {
	// echo "not a directory";
// }

// $mydir = "E:\\calls\\01_xx_2013\\FAST";

// $levelone = scandir($mydir);

// $list = array(
				// "FAST_"/"/2036387391/",/",",
				// "FAST_"/"/2036387638/",/",",
				// "FAST_"/"/2036387872/",/",",
				// "FAST_"/"/2036387897/",/",",
				// "FAST_"/"/2036387911/",/",",
				// "FAST_"/"/2036388613/",/",",
				// "FAST_"/"/2036390300/",/",",
				// "FAST_"/"/2036390683/",/",",
				// "FAST_"/"/2036391128/",/",",
				// "FAST_"/"/2036391705/",/",",
				// "FAST_"/"/2036393830/",/",",
				// "FAST_"/"/2036394962/",/",",
				// "FAST_"/"/2036395937/",/",",
				// "FAST_"/"/2036398561/",/",",
				// "FAST_"/"/2036399586/",/",",
				// "FAST_"/"/2036399899/",/",",
				// "FAST_"/"/2036400688/",/",",
				// "FAST_"/"/2036400704/",/",",
				// "FAST_"/"/2036400766/",/","
		// );

// $myfilestocopy = array_intersect($list, $levelone);

// $to = "E:\\calls\\01_xx_2013\\";

// foreach($myfilestocopy as $files){
		// $from = "E:\\calls\\01_xx_2013\\FAST\\".$files;
		// copy($from, $to.$files);
		// echo "E:\\calls\\01_xx_2013\\FAST\\".$files." --> $to$files<br>";
// }

ini_set('max_execution_time', 300);


function readDirs($path, &$day, &$calls){
  $list = array();
  $dirHandle = opendir($path);
  while($item = readdir($dirHandle)) {
    $newPath = $path."/".$item;
    if(is_dir($newPath) && $item != '.' && $item != '..') {
       //echo "Found Folder $newPath<br>";
       readDirs($newPath);
    }
    else{
      array_push($list, $item);
    }
  }

  $count = 0;
  foreach($list as $item){
	foreach($calls as $call){
		if(preg_match($call, $item)){
			$to = "E:\\21st\\12".$day."_2013_$item";
			$from = "E:\\calls\\12_".$day."_2013\\Undetermined\\$item";
			copy($from, $to);
			echo "$from --> $to<br>";
			$count++;
		}
	}
  }
  echo "files found $count<br>";
}

$calls=array(
"/1162975934/",
"/1162970320/",
"/1162970037/",
"/1162954055/",
"/1162953711/",
"/1162953144/",
"/1162952207/",
"/1162930817/",
"/1162911889/",
"/1162891138/",
"/1162864942/",
"/1162863474/",
"/1162862567/",
"/1162862479/",
"/1162861031/",
"/1162860385/",
"/1162859651/",
"/1162859355/",
"/1162858979/",
"/1162858503/",
"/1162857977/",
"/1162857400/",
"/1162856962/",
"/1162855935/",
"/1162854848/",
"/1162853838/",
"/1162853002/",
"/1162852631/",
"/1162852110/",
"/1162851718/",
"/1162850850/",
"/1162849856/",
"/1162849467/",
"/1162849068/",
"/1162843110/",
"/1162842443/",
"/1162842154/",
"/1162841826/",
"/1162832349/",
"/1162831975/",
"/1162831246/",
"/1162830391/",
"/1162829311/",
"/1162828672/",
"/1162828078/",
"/1162827184/",
"/1162826575/",
"/1162826290/",
"/1162825566/",
"/1162824970/",
"/1162824630/",
"/1162823911/",
"/1162823241/",
"/1162822491/",
"/1162819470/",
"/1162818785/",
"/1162818403/",
"/1162817827/",
"/1162817294/",
"/1162816753/",
"/1162800814/",
"/1162800396/",
"/1162799765/",
"/1162799184/",
"/1162798453/",
"/1162797589/",
"/1162796963/",
"/1162796400/",
"/1162796256/",
"/1162796025/",
"/1162795579/",
"/1162795566/",
"/1162795236/",
"/1162794545/",
"/1162794010/",
"/1162793987/",
"/1162792409/",
"/1162791032/",
"/1162789344/",
"/1162788770/",
"/1162787501/",
"/1162784059/",
"/1162784020/",
"/1162782377/",
"/1162781807/",
"/1162781248/",
"/1162780638/",
"/1162779875/",
"/1162779676/",
"/1162779064/",
"/1162777307/",
"/1162773283/",
"/1162771458/",
"/1162770698/",
"/1162768971/",
"/1162768300/",
"/1162767538/",
"/1162766488/",
"/1162766098/",
"/1162765679/",
"/1162764902/",
"/1162764592/",
"/1162763900/",
"/1162762751/",
"/1162762183/",
"/1162761859/",
"/1162761521/",
"/1162760924/",
"/1162760227/",
"/1162759624/",
"/1162759079/",
"/1162758886/",
"/1162758660/",
"/1162758355/",
"/1162757659/",
"/1162754281/",
"/1162753619/",
"/1162752980/",
"/1162752204/",
"/1162751500/",
"/1162750827/",
"/1162750160/",
"/1162749441/",
"/1162748612/",
"/1162742291/",
"/1162738757/",
"/1162737629/",
"/1162736635/",
"/1162735756/",
"/1162733352/",
"/1162732087/",
"/1162723871/",
"/1162698249/",
"/1162697634/",
"/1162697045/",
"/1162696502/",
"/1162695789/",
"/1162694357/",
"/1162693353/",
"/1162692740/",
"/1162691926/",
"/1162691207/",
"/1162690288/",
"/1162689574/",
"/1162688951/",
"/1162688124/",
"/1162687324/",
"/1162687099/",
"/1162686436/",
"/1162686064/",
"/1162685269/",
"/1162684710/",
"/1162684037/",
"/1162683295/",
"/1162682594/",
"/1162681461/",
"/1162680848/",
"/1162680110/",
"/1162679849/",
"/1162679046/",
"/1162678241/",
"/1162678000/",
"/1162677412/",
"/1162676650/",
"/1162675797/",
"/1162675336/",
"/1162674845/",
"/1162674294/",
"/1162673993/",
"/1162672996/",
"/1162672425/",
"/1162671063/",
"/1162670401/",
"/1162669188/",
"/1162660595/",
"/1162655819/",
"/1162570703/",
"/1162525254/",
"/1162430750/",
"/1162428378/",
"/1162427532/",
"/1162413205/",
"/1162411276/",
"/1162410453/",
"/1162395751/",
"/1162265391/",
"/1162264826/",
"/1162264390/",
"/1162254025/",
"/1162252928/",
"/1162251995/",
"/1162247201/",
"/1162242646/",
"/1162240779/",
"/1162222512/",
"/1162221136/",
"/1162218761/",
"/1162171649/",
"/1162166097/",
"/1162147755/",
"/1162142681/",
"/1162068172/",
"/1162066024/",
"/1162033313/",
"/1162033118/",
"/1162030652/",
"/1162020430/",
"/1162019246/",
"/1157005163/",
"/1157003073/",
"/1157001129/",
"/1156998950/",
"/1156997506/",
"/1156995656/",
"/1156991371/",
"/1156989886/",
"/1156987816/",
"/1156987223/",
"/1156985610/",
"/1156985579/",
"/1156983410/",
"/1156982831/",
"/1156982618/",
"/1156981008/",
"/1156979111/",
"/1156979026/",
"/1156975347/",
"/1156975103/",
"/1156898501/",
"/1156890960/",
"/1156881849/",
"/1156878240/",
"/1156875195/",
"/1156874477/",
"/1156864186/",
"/1156861940/",
"/1156861314/",
"/1156843335/",
"/1156842708/",
"/1156839517/",
"/1156831998/",
"/1156830904/",
"/1156780943/",
"/1156776457/",
"/1156774000/",
"/1156743449/",
"/1156738638/",
"/1156729870/",
"/1156725129/",
"/1156708489/",
"/1156707530/",
"/1156699098/",
"/1156698423/",
"/1156666543/",
"/1156665546/",
"/1156664418/",
"/1156186234/",
"/1156180858/",
"/1156172488/",
"/1156170970/",
"/1156169798/",
"/1156166411/",
"/1156165560/",
"/1156163676/",
"/1156148171/",
"/1156146665/",
"/1156110934/",
"/1156108873/",
"/1156106459/",
"/1156095474/",
"/1156074510/",
"/1156071802/",
"/1156068396/",
"/1156067637/",
"/1156049815/",
"/1156015419/",
"/1156012338/",
"/1156011111/",
"/1154811063/",
"/1154707538/",
"/1154694006/",
"/1154687615/",
"/1154665581/",
"/1154643421/",
"/1154634961/",
"/1154601753/",
"/1154600736/",
"/1154586159/",
"/1154578647/",
"/1154570576/",
"/1154569712/",
"/1154219517/",
"/1154219283/",
"/1154218905/",
"/1154218521/",
"/1154215640/",
"/1154215023/",
"/1154214889/",
"/1154214729/",
"/1154214611/",
"/1154214290/",
"/1154214280/",
"/1154213167/",
"/1154212572/",
"/1154212079/",
"/1154211902/",
"/1154211550/",
"/1154211098/",
"/1154210710/",
"/1154203420/",
"/1154196641/",
"/1154180201/",
"/1154171121/",
"/1154166890/",
"/1154166392/",
"/1154166079/",
"/1154163995/",
"/1154163782/",
"/1154162172/",
"/1154157427/",
"/1154156412/",
"/1154150704/",
"/1154149789/",
"/1154143833/",
"/1154141775/",
"/1154140571/",
"/1154137507/",
"/1154135880/",
"/1154132383/",
"/1154130755/",
"/1154123736/",
"/1154112255/",
"/1154108089/",
"/1154105000/",
"/1154097624/",
"/1154096862/",
"/1154096099/",
"/1154094261/",
"/1154092718/",
"/1154089387/",
"/1154086765/",
"/1154075426/",
"/1154074371/",
"/1154071638/",
"/1154069897/",
"/1154068408/",
"/1154066929/",
"/1154065837/",
"/1154064548/",
"/1154056082/",
"/1154054981/",
"/1154022958/",
"/1154021644/",
"/1154019801/",
"/1154018257/",
"/1154017451/",
"/1147005854/",
"/1147004148/",
"/1147002861/",
"/1147001296/",
"/1146999336/",
"/1146997557/",
"/1146995431/",
"/1146993627/",
"/1146993013/",
"/1146991593/",
"/1146990135/",
"/1146988412/",
"/1146987726/",
"/1146987137/",
"/1146985364/",
"/1146978805/",
"/1146977711/",
"/1146977469/",
"/1146976700/",
"/1146971763/",
"/1146962568/",
"/1146959995/",
"/1146959694/",
"/1146958878/",
"/1146957834/",
"/1146957167/",
"/1146955457/",
"/1146954741/",
"/1146953496/",
"/1146952569/",
"/1146952445/",
"/1146951974/",
"/1146951373/",
"/1146950754/",
"/1146950076/",
"/1146949818/",
"/1146947982/",
"/1146947059/",
"/1146945910/",
"/1146945233/",
"/1146944541/",
"/1146943886/",
"/1146942376/",
"/1146941484/",
"/1146940489/",
"/1146940252/",
"/1146938884/",
"/1146929968/",
"/1146915686/",
"/1146914546/",
"/1146914272/",
"/1146913963/",
"/1146913086/",
"/1146912393/",
"/1146912192/",
"/1146911755/",
"/1146907148/",
"/1146906212/",
"/1146905514/",
"/1146904961/",
"/1146903830/",
"/1146903654/",
"/1146903145/",
"/1146902473/",
"/1146902128/",
"/1146901397/",
"/1146901306/",
"/1146899761/",
"/1146899150/",
"/1146898370/",
"/1146897557/",
"/1146894393/",
"/1146893036/",
"/1146892813/",
"/1146891825/",
"/1146891573/",
"/1146890884/",
"/1146889736/",
"/1146889376/",
"/1146888862/",
"/1146888559/",
"/1146888365/",
"/1146888052/",
"/1146886464/",
"/1146878489/",
"/1146876059/",
"/1146871174/",
"/1146854348/",
"/1146853501/",
"/1146853143/",
"/1146851483/",
"/1146850587/",
"/1146843520/",
"/1146840482/",
"/1146839340/",
"/1146835757/",
"/1146834378/",
"/1146833040/",
"/1146832326/",
"/1146831769/",
"/1146831453/",
"/1146829930/",
"/1146829632/",
"/1146829217/",
"/1146828898/",
"/1146828660/",
"/1146827881/",
"/1146826578/",
"/1146825101/",
"/1146824764/",
"/1146823992/",
"/1146823089/",
"/1146822257/",
"/1146821659/",
"/1146820954/",
"/1146820546/",
"/1146819252/",
"/1146812092/",
"/1146806788/",
"/1146806095/",
"/1146803627/",
"/1146803209/",
"/1146802464/",
"/1146802173/",
"/1146800494/",
"/1146799403/",
"/1146796745/",
"/1146790491/",
"/1146788566/",
"/1146779967/",
"/1146778655/",
"/1146778190/",
"/1146777256/",
"/1146776836/",
"/1146764120/",
"/1146752768/",
"/1146739046/",
"/1146733844/",
"/1146723952/",
"/1146708003/",
"/1146699198/",
"/1146692895/",
"/1146499331/",
"/1146496589/",
"/1146495584/",
"/1146493478/",
"/1146493154/",
"/1146492506/",
"/1146491694/",
"/1146490968/",
"/1146468617/",
"/1146448166/",
"/1146447867/",
"/1146447697/",
"/1146447326/",
"/1146446893/",
"/1146446549/",
"/1146446196/",
"/1146445986/",
"/1146445796/",
"/1146445548/",
"/1146445054/",
"/1146444288/",
"/1146394697/",
"/1146392726/",
"/1146392218/",
"/1146389845/",
"/1146358712/",
"/1146346163/",
"/1146344442/",
"/1146343833/",
"/1146329768/",
"/1146319571/",
"/1146316372/",
"/1146315724/",
"/1146314023/",
"/1146313158/",
"/1146312601/",
"/1146309357/",
"/1146304888/",
"/1146303835/",
"/1146297904/",
"/1146296689/",
"/1146296055/",
"/1146293914/",
"/1146293526/",
"/1146293205/",
"/1146292572/",
"/1146291746/",
"/1146290616/",
"/1146288866/",
"/1146287433/",
"/1146287172/",
"/1146285872/",
"/1146285637/",
"/1146285369/",
"/1146284785/",
"/1146284106/",
"/1146283818/",
"/1146283559/",
"/1146283347/",
"/1146283286/",
"/1146283117/",
"/1146282852/",
"/1146282221/",
"/1146281065/",
"/1146280473/",
"/1146276658/",
"/1146276249/",
"/1146273879/",
"/1146273703/",
"/1146272685/",
"/1146271131/",
"/1146267668/",
"/1146266731/",
"/1146265669/",
"/1146258417/",
"/1146256982/",
"/1146248729/",
"/1140975567/",
"/1140972699/",
"/1101919426/",
"/1101918745/",
"/1101918354/",
"/1101918034/",
"/1101917639/",
"/1101916062/",
"/1101915436/",
"/1101915050/",
"/1101914970/",
"/1101914745/",
"/1101914464/",
"/1101911613/",
"/1101911313/",
"/1101910555/",
"/1101909931/",
"/1101905431/",
"/1101904890/",
"/1101904375/",
"/1101903897/",
"/1101901424/",
"/1101900599/",
"/1101899988/",
"/1101899827/",
"/1101897692/",
"/1101897025/",
"/1101896631/",
"/1101895654/",
"/1101894554/",
"/1101893907/",
"/1101893219/",
"/1101892620/",
"/1101891862/",
"/1101891248/",
"/1101886388/",
"/1101885968/",
"/1101885341/",
"/1101884934/",
"/1101884134/",
"/1101883296/",
"/1101882600/",
"/1101882563/",
"/1101880378/",
"/1101880289/",
"/1101879639/",
"/1101872898/",
"/1101872738/",
"/1101872563/",
"/1101872366/",
"/1101871681/",
"/1101871542/",
"/1101870849/",
"/1101870839/",
"/1101869871/",
"/1101869404/",
"/1101867710/",
"/1101867197/",
"/1101866576/",
"/1101866286/",
"/1101865628/",
"/1101864803/",
"/1101864695/",
"/1101862894/",
"/1101861426/",
"/1101861248/",
"/1101860358/",
"/1101860222/",
"/1101859822/",
"/1101858479/",
"/1101857453/",
"/1101857205/",
"/1101855029/",
"/1101854866/",
"/1101854556/",
"/1101854504/",
"/1101854200/",
"/1101854110/",
"/1101853702/",
"/1101853232/",
"/1101852797/",
"/1101852757/",
"/1101849890/",
"/1101848938/",
"/1101848914/",
"/1101848077/",
"/1101846364/",
"/1101846291/",
"/1101842614/",
"/1101842048/",
"/1101839115/",
"/1101836584/",
"/1101835736/",
"/1101835413/",
"/1101834921/",
"/1101833718/",
"/1101832735/",
"/1101827033/",
"/1101821146/",
"/1101820268/",
"/1101818991/",
"/1101817598/",
"/1101816229/",
"/1101815460/",
"/1101814693/",
"/1101813355/",
"/1101811996/",
"/1101810968/",
"/1101810824/",
"/1101809945/",
"/1101809002/",
"/1101808259/",
"/1101807371/",
"/1101806878/",
"/1101806461/",
"/1101806366/",
"/1101804996/",
"/1101804344/",
"/1101803914/",
"/1101803591/",
"/1101799878/",
"/1101798639/",
"/1101797973/",
"/1101797525/",
"/1101794909/",
"/1101794412/",
"/1101793608/",
"/1101792688/",
"/1101792183/",
"/1101789761/",
"/1101789418/",
"/1101788198/",
"/1101786999/",
"/1101785828/",
"/1101781102/",
"/1101763254/",
"/1101759055/",
"/1101750926/",
"/1140647886/",
"/1140642029/",
"/1140641262/",
"/1140640212/",
"/1140639182/",
"/1140638290/",
"/1140636318/",
"/1140635443/",
"/1140634316/",
"/1140574041/",
"/1140572862/",
"/1140572056/",
"/1140565410/",
"/1140564537/",
"/1140563683/",
"/1140562960/",
"/1140562188/",
"/1140560883/",
"/1140560307/",
"/1140559371/",
"/1140558790/",
"/1140557673/",
"/1140556564/",
"/1140554942/",
"/1140553679/",
"/1140551014/",
"/1140550120/",
"/1140549622/",
"/1140548996/",
"/1140548223/",
"/1140547181/",
"/1140546467/",
"/1140545328/",
"/1140543797/",
"/1140543006/",
"/1140529666/",
"/1140528705/",
"/1140527753/",
"/1140523139/",
"/1140512315/",
"/1140511581/",
"/1140502103/",
"/1140495202/",
"/1140470630/",
"/1140469854/",
"/1101582283/",
"/1101579581/",
"/1101572070/",
"/1101570624/",
"/1101570065/",
"/1101568934/",
"/1101568690/",
"/1101558808/",
"/1101550013/",
"/1101548706/",
"/1101540397/",
"/1101532858/",
"/1101531798/",
"/1101524319/",
"/1101521246/",
"/1101508333/",
"/1101497732/",
"/1101481489/",
"/1101476971/",
"/1101467728/",
"/1101466589/",
"/1101466155/",
"/1101465264/",
"/1101464096/",
"/1101462767/",
"/1101462373/",
"/1101461278/",
"/1101460615/",
"/1101456357/",
"/1101453603/",
"/1101453484/",
"/1101449804/",
"/1101446559/",
"/1101444020/",
"/1101442033/",
"/1101440418/",
"/1101438525/",
"/1101434898/",
"/1101416104/",
"/1101404933/",
"/1101403206/",
"/1101402246/",
"/1101401210/",
"/1101397278/",
"/1101395828/",
"/1101395686/",
"/1101394169/",
"/1101392677/",
"/1101376459/",
"/1101369956/",
"/1101345057/",
"/1101341964/",
"/1101341336/",
"/1101340921/",
"/1101338988/",
"/1101337699/",
"/1101336990/",
"/1101336119/",
"/1101335479/",
"/1101334061/",
"/1101333355/",
"/1101332099/",
"/1101330948/",
"/1101325416/",
"/1101323754/",
"/1101321993/",
"/1101321127/",
"/1101319869/",
"/1101319165/",
"/1101318973/",
"/1101316762/",
"/1101310018/",
"/1101308278/",
"/1101306326/",
"/1101305710/",
"/1101304671/",
"/1101294773/",
"/1101293997/",
"/1101292498/",
"/1101290449/",
"/1101288311/",
"/1101287010/",
"/1101286350/",
"/1128546239/",
"/1128434592/",
"/1128407948/",
"/1128403166/",
"/1128402470/",
"/1128401832/",
"/1128400361/",
"/1128398841/",
"/1128343657/",
"/1128343510/",
"/1128343373/",
"/1128343304/",
"/1128343067/",
"/1128337734/",
"/1128334964/",
"/1128333356/",
"/1128332361/",
"/1128331626/",
"/1128330468/",
"/1128328836/",
"/1128327979/",
"/1128327697/",
"/1128327219/",
"/1128325539/",
"/1128324499/",
"/1128324430/",
"/1128324100/",
"/1128322468/",
"/1128321438/",
"/1128280765/",
"/1128279147/",
"/1128277058/",
"/1128273426/",
"/1128272444/",
"/1128269969/",
"/1128268520/",
"/1128266921/",
"/1128265507/",
"/1128264090/",
"/1128262519/",
"/1128261241/",
"/1128256127/",
"/1128250798/",
"/1128235625/",
"/1128201704/",
"/1101064087/",
"/1101063627/",
"/1101063009/",
"/1101062111/",
"/1101061368/",
"/1101034953/",
"/1101033994/",
"/1101033287/",
"/1101032210/",
"/1101031251/",
"/1101025552/",
"/1101024676/",
"/1101024109/",
"/1057994016/",
"/1057992912/",
"/1057977794/",
"/1057971061/",
"/1057968474/",
"/1057964734/",
"/1057961822/",
"/1057958350/",
"/1057952660/",
"/1057949250/",
"/1057946592/",
"/1057945895/",
"/1057944352/",
"/1057929281/",
"/1057927090/",
"/1057925679/",
"/1057921988/",
"/1057823733/",
"/1128051299/",
"/1128049416/",
"/1123932083/",
"/1123927297/",
"/1123926007/",
"/1123924662/",
"/1123923236/",
"/1123922355/",
"/1123904723/",
"/1123902961/",
"/1123896586/",
"/1123895977/",
"/1123894671/",
"/1123893917/",
"/1123892924/",
"/1123892483/",
"/1123891738/",
"/1123891178/",
"/1123890065/",
"/1123887420/",
"/1123887371/",
"/1123886015/",
"/1123885620/",
"/1123884457/",
"/1123883938/",
"/1123882648/",
"/1123882549/",
"/1123882107/",
"/1123881250/",
"/1123880356/",
"/1123878802/",
"/1123871294/",
"/1123870748/",
"/1123870480/",
"/1123869642/",
"/1123868834/",
"/1123867669/",
"/1123867136/",
"/1123866547/",
"/1123865984/",
"/1123865251/",
"/1123864455/",
"/1123863497/",
"/1123863333/",
"/1123861957/",
"/1123859497/",
"/1123853353/",
"/1123852153/",
"/1123851499/",
"/1123850310/",
"/1123846187/",
"/1123842525/",
"/1123841492/",
"/1123840763/",
"/1123839924/",
"/1123838893/",
"/1123838108/",
"/1123837486/",
"/1123836818/",
"/1123836510/",
"/1123835869/",
"/1123835191/",
"/1123834565/",
"/1123833774/",
"/1123833196/",
"/1123830968/",
"/1123830880/",
"/1123829993/",
"/1123829339/",
"/1123829214/",
"/1123828279/",
"/1123828251/",
"/1123827019/",
"/1123827011/",
"/1123825560/",
"/1123825172/",
"/1123825108/",
"/1123824654/",
"/1123823951/",
"/1123823083/",
"/1123822892/",
"/1123821310/",
"/1123821150/"
);

$days = array("10", "11", "12", "13", "14", "15");

foreach($days as $day){
$path = "E:\\calls\\12_".$day."_2013\\Undetermined";
echo "$path<br>";
readDirs($path, $day, $calls);
}


?>